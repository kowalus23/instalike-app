(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(58)},44:function(e,t,a){},49:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),s=(a(44),a(19)),m=a(20),l=a(24),i=a(21),u=a(25),d=a(11),p=a(22),f=(a(49),a(4)),b=function(e){var t=e.title;return r.a.createElement("h1",{className:"custom py-5"},r.a.createElement(f.a,{className:"decoration-none",to:"/"}," ",t))},g=a(23),E="http://www.stuartsteel.com/wp-content/themes/asenka/images/default-no-image.png",v=function(e){var t=e.post,a=(e.removePost,e.index),c=e.comments,o=e.startRemovingPost,s=Object(n.useState)(!1),m=Object(g.a)(s,2),l=m[0],i=m[1],u=function(){i(!l)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card custom mx-3 mb-4",style:l?{borderColor:"#ff4d5d",boxShadow:"0 0.225rem 0.35rem rgba(255, 0, 0, 0.175)",color:"#ff4d5d"}:null},r.a.createElement("div",{className:"card-img-top border-bottom custom"},r.a.createElement(f.a,{to:"photo/".concat(t.id)},r.a.createElement("img",{className:"img-fluid-custom",src:t.imageLink.indexOf("http")?E:t.imageLink,alt:"ownPicture"}))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between position-relative"},r.a.createElement("p",{className:"card-text --list mb-0 pr-3"},t.description),r.a.createElement(f.a,{className:"custom--card-content",to:"photo/".concat(t.id)},r.a.createElement("i",{className:"far fa-comment"})," ",r.a.createElement("span",null,c[t.id]?c[t.id].length+2:2))),r.a.createElement("button",{onMouseEnter:u,onMouseLeave:u,onClick:function(){o(a,t.id)},className:"btn btn-outline-danger"},"X"))))},y=function(e){return 0===e.posts.length?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center my-3 position-relative"},r.a.createElement(f.a,{className:"btn btn-dark custom",to:"create"},"+"),r.a.createElement("div",{className:"loader-list"}))):r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center mt-3"},r.a.createElement(f.a,{className:"btn btn-dark custom",to:"create"},"+")),r.a.createElement("div",{className:"d-flex justify-content-center flex-wrap pt-5"},e.posts.sort(function(e,t){return t.id-e.id}).map(function(t,a){return r.a.createElement(v,Object.assign({key:a,post:t},e,{index:a}))})))},h=a(2),N=Object(h.a)(),O=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={image:"https://via.placeholder.com/500x350",text:"Finally holidays, beautiful views..."},a.onSubmit=function(e){e.preventDefault();var t=e.target.elements.link.value,n=e.target.elements.description.value,r={imageLink:t,description:n,id:Number(new Date)};n&&t&&(a.props.startAddingPost(r),N.push("/"))},a.onInputImageChange=function(e){a.setState({image:e.target.value})},a.onInputTextChange=function(e){a.setState({text:e.target.value})},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{className:"form-custom mx-auto",onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Image Link"),r.a.createElement("input",{onChange:this.onInputImageChange,name:"link",type:"text",className:"form-control",placeholder:"https://via.placeholder.com/500x350",autoComplete:"off"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description"),r.a.createElement("input",{onChange:this.onInputTextChange,name:"description",type:"text",className:"form-control",placeholder:"Finally holidays, beautiful views...",autoComplete:"off"})),r.a.createElement("button",{className:"btn btn-dark w-100 mt-2 py-2"},"Create"),r.a.createElement("button",{className:"btn btn-outline-secondary w-100 mt-4",type:"button","data-toggle":"collapse","data-target":"#preview","aria-expanded":"false"},"Preview")),r.a.createElement("div",{className:"collapse",id:"preview"},r.a.createElement("div",{className:"row justify-content-center mt-3"},r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"card-img-top custom--comments border-bottom",src:"".concat(this.state.image),alt:""}),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"card-text"},this.state.text)))))))}}]),t}(r.a.Component),w=function(e){var t=Object(n.useState)(!0),a=Object(g.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"mb-3"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=t.target.elements.comment.value;e.startAddingComment(a,e.id),t.target.elements.comment.value=""}},r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",{onChange:function(e){e.target.value.length>0?o(!1):o(!c)},className:"form-control custom--comments__area",name:"comment",rows:"4",placeholder:"Write, a comment..."}),r.a.createElement("input",{className:"btn btn-primary w-100 custom--comments__submit",value:"Add comment",type:"submit",disabled:c}))),r.a.createElement("ul",{className:"list-group custom--comments border rounded"},e.comments.map(function(e,t){return r.a.createElement("li",{key:t,className:"list-group-item d-flex justify-content-between align-items-center"},e,r.a.createElement("span",{className:"badge badge-primary badge-pill mb-auto"},"now"))}),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ad, cum deserunt eum mollitia nam placeat reiciendis rem. Assumenda, dolor?",r.a.createElement("span",{className:"badge badge-primary badge-pill mb-auto"},"yesterday")),r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},"Lorem ipsum dolor sit amet, consectetur adipisicing.",r.a.createElement("span",{className:"badge badge-primary badge-pill mb-auto"},"3 days ago"))))},j=function(e){var t=e.match,a=e.posts,n=Number(t.params.id),c=a.find(function(e){return e.id===n}),o=e.comments[t.params.id]||[],s=function(e){return r.a.createElement("div",{className:"d-flex justify-content-center align-items-center flex-column"},r.a.createElement("div",{className:"loader-post"}),r.a.createElement("p",{className:"mt-5"},e))};return!0===e.loading?s():c?r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{className:"return-button btn btn-primary",to:"/"},r.a.createElement("i",{className:"fas fa-arrow-left "})),r.a.createElement("div",{className:"row mt-3"},r.a.createElement("div",{className:"col-12 col-md-8 px-sm-0 px-3"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("img",{className:"card-img-top custom--comments border-bottom",src:c.imageLink.indexOf("http")?E:c.imageLink,alt:"ownPicture"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},c.description)))),r.a.createElement("div",{className:"col-12 col-md-4 pr-sm-0 pr-3"},r.a.createElement(w,{startAddingComment:e.startAddingComment,comments:o,id:n})))):s("This page does not exist!")},x=a(7),k=a.n(x),C=a(9),S=a(13),_=a(30);a(54);_.initializeApp({apiKey:"YOUR_API_KEY",authDomain:"delaygram-e8b7e.firebaseapp.com",databaseURL:"https://delaygram-e8b7e.firebaseio.com",projectId:"delaygram-e8b7e",storageBucket:"delaygram-e8b7e.appspot.com",messagingSenderId:"1090657831436",appId:"1:1090657831436:web:00a11225c46f5e73"});var A=_.database(),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.startLoadingPosts().then(function(){e.setState({loading:!1})}),this.props.startLoadingComments()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(b,{title:"Delaygram"}),r.a.createElement(d.a,{path:"/",exact:!0,render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,e.props))}}),r.a.createElement(d.a,{path:"/create/",exact:!0,render:function(){return r.a.createElement(O,e.props)}}),r.a.createElement(d.a,{path:"/photo/:id",exact:!0,render:function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,Object.assign({loading:e.state.loading},e.props,t)))}}))}}]),t}(r.a.Component),L=Object(p.b)(function(e){return{posts:e.posts,comments:e.comments}},{startAddingComment:function(e,t){return function(){var a=Object(S.a)(k.a.mark(function a(n){return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.ref("comments/".concat(t)).push(e);case 2:n({type:"ADD_COMMENT",payload:{comment:e,postId:t}});case 3:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},startAddingPost:function(e){return function(){var t=Object(S.a)(k.a.mark(function t(a){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.ref("posts").update(Object(C.a)({},e.id,e));case 2:a({type:"ADD_POST",payload:e});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},startLoadingPosts:function(){return function(){var e=Object(S.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.ref("posts").once("value").then(function(e){var a=[];e.forEach(function(e){a.push(e.val())}),t({type:"LOAD_POSTS",payload:a})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},startRemovingPost:function(e,t){return function(){var a=Object(S.a)(k.a.mark(function a(n){var r,c;return k.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={},Object(C.a)(r,"posts/".concat(t),null),Object(C.a)(r,"comments/".concat(t),null),c=r,a.next=3,A.ref().update(c);case 3:n({type:"REMOVE_POST",payload:e});case 4:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},startLoadingComments:function(){return function(){var e=Object(S.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.ref("comments").once("value").then(function(e){var a={};e.forEach(function(e){a[e.key]=Object.values(e.val())}),t({type:"LOAD_COMMENTS",payload:a})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}})(D),I=a(10),P=a(15),T=a(31),M=Object(I.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMOVE_POST":return[].concat(Object(P.a)(e.slice(0,t.payload)),Object(P.a)(e.slice(t.payload+1)));case"ADD_POST":return[t.payload].concat(Object(P.a)(e));case"LOAD_POSTS":return t.payload;default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_COMMENT":return e[t.payload.postId]?Object(T.a)({},e,Object(C.a)({},t.payload.postId,[t.payload.comment].concat(Object(P.a)(e[t.payload.postId])))):Object(T.a)({},e,Object(C.a)({},t.payload.postId,[t.payload.comment]));case"LOAD_COMMENTS":return t.payload;default:return e}}}),F=a(38),R=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,U=Object(I.e)(M,R(Object(I.a)(F.a)));o.a.render(r.a.createElement(p.a,{store:U},r.a.createElement(d.b,{basename:"/instalike-app",history:N},r.a.createElement(L,null))),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.893934fb.chunk.js.map